{% extends "OCPlatformBundle::layout.html.twig" %}

{% block ocplatform_body %}
<div class="row">
    <div class="col-md-3"></div>
<div class="form-style col-md-6">
    {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

    {# Les erreurs générales du formulaire. #}
    {{ form_errors(form) }}

    {# Génération du label + error + widget pour un champ. #}
    {{ form_row(form.date) }}


    {{ form_row(form.dayTime) }}

    {{ form_row(form.visitors) }}
    <a href="#" id="add_visitor" class="btn btn-default">Ajouter un visiteur</a>

    {# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
    {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}

    {# Génération automatique des champs pas encore écrits.
       Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
       et tous les champs cachés (type « hidden »). #}
    {{ form_rest(form) }}

    {# Fermeture de la balise <form> du formulaire HTML #}
    {{ form_end(form) }}
</div>
</div>
<script src="https:ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js"></script>
<script src="{{ asset('js/addVisitor.js') }}"></script>
<script>
    $(".js-datepicker").datepicker({
        format: "dd/mm/yyyy",
        startDate: "0",
        daysOfWeekDisabled: "2",
        language: "fr",
        datesDisabled : ['01/05/2017', '25/12/2016', '01/05/2018', '25/12/2017']
    });
</script>
{% endblock %}
